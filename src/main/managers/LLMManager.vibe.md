# LLMManager 组件文档

## 用户需求
### 原始需求
> 需要一个LLM管理器来处理与大语言模型API的交互，支持单文件和批量翻译功能，包括Markdown和Jupyter Notebook文件类型

### 期望效果
- 统一管理LLM API调用
- 支持多种文件类型的翻译
- 提供并发控制和错误处理
- 完全使用配置的提示词，避免硬编码

## 实现功能
### 主要功能
- [x] 功能1：LLM API连接管理 - 配置API密钥、基础URL、模型等参数
- [x] 功能2：单文件翻译 - 支持Markdown和Jupyter Notebook文件翻译
- [x] 功能3：批量翻译 - 支持并发批量翻译，带进度回调
- [x] 功能4：提示词统一管理 - 完全使用配置的提示词，避免硬编码内容
- [x] 功能5：错误处理和重试机制 - 翻译失败时的降级处理

## 变更历史
### v1.0.0
- **变更类型**: 新增
- **变更原因**: 初始创建LLM管理器组件
- **变更内容**: 实现了基础的LLM API交互、单文件和批量翻译功能

### v1.1.0
- **变更类型**: 修改
- **变更原因**: 用户反馈提示词应该统一使用配置的，而不是硬编码
- **变更内容**: 
  - 移除了translateMarkdown方法中硬编码的"请翻译以下Markdown文档："前缀
  - 移除了translateJupyterNotebook方法中硬编码的额外说明和"请翻译以下Markdown内容："前缀
  - 现在完全使用传入的prompt参数作为system message，content直接作为user message
  - 确保提示词的一致性，所有翻译都使用相同的配置提示词模板 